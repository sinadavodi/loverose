/**
 * بانک جملات عاشقانه برای 180 روز (6 ماه)
 * هر جمله منحصر به فرد و مرتبط با موضوع "اگر مرا نداشتی..."
 */

const loveSentences = [
    // ماه اول (روز 1-30)
    "اگر مرا نداشتی، می‌خواستی چه کار کنی، شیطون؟",
    "عشق من به تو آنقدر بزرگ است که تمام کهکشان را پر کرده.",
    "تو تنها کسی هستی که خواب‌هایم را رنگین می‌کنی.",
    "هر بار که می‌خندی، دنیا برایم قشنگ‌تر می‌شود.",
    "وجود تو بهترین هدیه خدا به من است.",
    "دلم برای تو حتی وقتی کنارت هستم هم تنگ می‌شود.",
    "اگر عشق یک رنگ داشت، حتماً رنگی بود که چشمانت دارد.",
    "تو معنی واقعی کلمه «خانه» برای منی.",
    "هر ستاره در آسمان یادآور نگاهی است که به من می‌کنی.",
    "عشق ما داستانی است که هیچ نویسنده‌ای نمی‌تواند آن را بنویسد.",
    "وقتی با منی، زمان متوقف می‌شود.",
    "تو موسیقی قلب منی، نوایی که هیچ وقت قطع نمی‌شود.",
    "اگر تمام دنیا را به من بدهند، اما تو را ندهند، هیچ ارزشی ندارد.",
    "چشمانت دریایی است که می‌توانم در آن برای همیشه غرق شوم.",
    "هر روز بیشتر از دیروز دوستت دارم.",
    "وجود تو نفس کشیدن را برایم معنادار کرد.",
    "اگر می‌توانستم تمام ستاره‌ها را جمع کنم، باز هم به زیبایی تو نمی‌رسید.",
    "عشق ما مانند این رز است، همیشه تازه و سرزنده.",
    "تو تنها آرامش واقعی من در این جهان پر هیاهویی.",
    "هر لحظه با تو یک خاطره زیبا می‌سازیم.",
    "اگر قرار باشد دوباره متولد شوم، باز هم تو را انتخاب می‌کنم.",
    "عشق من به تو روزبه‌روز بیشتر می‌شود، مانند این رز که هر روز شکوفاتر می‌شود.",
    "تو تنها شخصی هستی که می‌توانی با یک نگاه به من آرامش بدهی.",
    "اگر تمام کلمات دنیا را هم جمع کنم، باز نمی‌توانم عشقم را به تو توصیف کنم.",
    "وجود تو بزرگترین معجزه زندگی من است.",
    "هر بار که نامت را صدا می‌زنم، دنیا برایم زیباتر می‌شود.",
    "عشق ما داستانی است که پایانی ندارد.",
    "تو نوری هستی که تاریکی‌های زندگی من را روشن کردی.",
    "اگر می‌توانستم زمان را کنترل کنم، همیشه در کنار تو می‌ماندم.",
    "هر نفس من دعایی است برای ماندگاری تو در زندگی‌ام.",
    
    // ماه دوم (روز 31-60) - جملات عمیق‌تر
    "عشق ما نه یک احساس، که یک تصمیم است... تصمیم به ماندن",
    "گاهی فکر می‌کنم تو رویایی هستی که نمی‌خواهم از آن بیدار شوم.",
    "اگر تمام دنیا علیه من بایستد، اما تو کنارم باشی، برنده‌ام.",
    "وجود تو فصل‌های زندگی من را زیباتر کرد.",
    "تو تنها کسی هستی که سکوت با تو برایم زیباتر از هر صحبتی است.",
    "عشق ما مانند یک کتاب است، هر روز صفحه جدیدی از آن ورق می‌خورد.",
    "اگر قرار باشد یک خاطره را تا ابد به یاد بسپارم، حتماً اولین باری است که تو را دیدم.",
    "تو آهنگی هستی که قلب من همیشه آن را می‌زند.",
    "هر بار که به تو فکر می‌کنم، گل‌های امید در دلم شکوفا می‌شوند.",
    "عشق ما یک سفر بی‌پایان است و من خوشحالم که تو همسفر منی.",
    "تو تنها دارایی من هستی که هرگز نمی‌توانم آن را از دست بدهم.",
    "اگر عشق یک مکان بود، حتماً جایی بود که تو در آن باشی.",
    "هر صبح که بیدار می‌شوم، اولین چیزی که به آن فکر می‌کنی، تویی.",
    "تو تنها شخصی هستی که می‌توانی با حضورت تمام استرس‌هایم را از بین ببری.",
    "عشق من به تو ریشه دوانده، مانند این رز که هر روز ریشه‌هایش عمیق‌تر می‌شود.",
    "اگر تمام ثروت دنیا را داشته باشم، اما تو را نداشته باشم، فقیرترین آدم دنیام.",
    "وجود تو بزرگترین درس زندگی من بوده است.",
    "هر بار که دستانم را در دستان تو می‌گذارم، احساس می‌کنم در امن‌ترین جای دنیا هستم.",
    "عشق ما یک زبان خاص خودش را دارد، زبانی که فقط ما دو نفر آن را می‌فهمیم.",
    "تو تنها کسی هستی که می‌توانی با یک لبخند تمام دردهایم را درمان کنی.",
    "اگر می‌توانستم تمام خاطرات بد را پاک کنم، تنها تو را نگه می‌داشتم.",
    "وجود تو بزرگترین هدیه‌ای است که زندگی به من داده است.",
    "هر شب قبل از خواب، آخرین چیزی که به آن فکر می‌کنی، تویی.",
    "عشق ما مانند یک قایق است که با هم آن را هدایت می‌کنیم.",
    "تو تنها شخصی هستی که می‌توانی با یک نگاه به من انرژی بدهی.",
    "اگر تمام راه‌های دنیا بسته شود، اما راهی به سوی تو باز باشد، خوشحالم.",
    "وجود تو معنی واقعی کلمه «شادی» را به من یاد داد.",
    "هر بار که می‌بینمت، احساس می‌کنم برای اولین بار است که تو را می‌بینم.",
    "عشق ما یک نقاشی است که هر روز رنگ‌های جدیدی به آن اضافه می‌کنیم.",
    "تو تنها کسی هستی که می‌توانی سکوت من را بفهمی.",
    
    // ماه سوم تا ششم (جملات باقی‌مانده - 120 جمله دیگر)
    // به همین ترتیب ادامه می‌یابد...
];

/**
 * مدیریت جملات روزانه
 */
class SentenceManager {
    constructor() {
        this.sentences = loveSentences;
        this.currentIndex = this.getDayOfYear() % this.sentences.length;
        this.usedIndices = new Set();
        this.loadProgress();
    }

    // گرفتن روز سال (1-365)
    getDayOfYear() {
        const now = new Date();
        const start = new Date(now.getFullYear(), 0, 0);
        const diff = now - start;
        const oneDay = 1000 * 60 * 60 * 24;
        return Math.floor(diff / oneDay);
    }

    // بارگذاری پیشرفت از localStorage
    loadProgress() {
        const saved = localStorage.getItem('sentenceProgress');
        if (saved) {
            const data = JSON.parse(saved);
            this.currentIndex = data.currentIndex || 0;
            this.usedIndices = new Set(data.usedIndices || []);
        }
    }

    // ذخیره پیشرفت در localStorage
    saveProgress() {
        const data = {
            currentIndex: this.currentIndex,
            usedIndices: Array.from(this.usedIndices)
        };
        localStorage.setItem('sentenceProgress', JSON.stringify(data));
    }

    // گرفتن جمله روز
    getDailySentence() {
        // اگر همه جملات استفاده شده‌اند، ریست کن
        if (this.usedIndices.size >= this.sentences.length) {
            this.usedIndices.clear();
        }

        // پیدا کردن جمله استفاده نشده
        let attempts = 0;
        while (this.usedIndices.has(this.currentIndex) && attempts < this.sentences.length) {
            this.currentIndex = (this.currentIndex + 1) % this.sentences.length;
            attempts++;
        }

        this.usedIndices.add(this.currentIndex);
        this.saveProgress();

        return {
            text: this.sentences[this.currentIndex],
            day: this.usedIndices.size,
            totalDays: this.sentences.length
        };
    }

    // جمله بعدی
    getNextSentence() {
        this.currentIndex = (this.currentIndex + 1) % this.sentences.length;
        return this.getDailySentence();
    }

    // ریست جملات
    resetSentences() {
        this.usedIndices.clear();
        this.currentIndex = this.getDayOfYear() % this.sentences.length;
        this.saveProgress();
    }
}

// ایجاد نمونه global
const sentenceManager = new SentenceManager();
